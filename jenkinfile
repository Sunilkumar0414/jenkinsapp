node {
    // Stage: Checkout Code
    stage ('checkout code') {
        echo 'Cloning the repository from the SCM'
        // Correct way to clone the repository
        git url: 'https://github.com/Sunilkumar0414/jenkinsapp.git', branch: 'master'
    }

    // Stage: Set Up Environment
    stage ('set up environment') {
        echo 'Verifying the Maven version'
        sh 'mvn -version'
    }

    // Stage: Compile Code
    stage ('compile code') {
        echo 'Compiling the code using Maven'
        sh 'mvn compile'
    }

    // Stage: Test Maven
    stage ('test maven') {
        echo 'Running Maven tests'
        sh 'mvn test'
    }

    // Stage: Install Artifacts
    stage ('install artifacts') {
        echo "Installing artifacts for tests and builds"
        sh 'mvn install'
    }

    // Stage: Clean Workspace
    stage ('clean workspace') {
        echo "Cleaning the workspace"
        sh 'mvn clean'
    }
}

